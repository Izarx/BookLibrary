<div aria-hidden="true"
     aria-labelledby="updateBookLabel"
     class="modal fade"
     id="updateBook"
     role="dialog"
     tabindex="-1"
>
	<div class="modal-dialog">
		<div class="modal-content">
			<form (ngSubmit)="submit()" [formGroup]="form">
				<div class="modal-header">
					<h4 class="modal-title"
					    id="updateBookLabel">Update Book</h4>
				</div>
				<div class="row-without-lr-margin">
					<div class="col-md-8">
						<div class="sub-title">Name</div>
						<div>
							<input [ngModel]="book.name"
							       class="form-control"
							       formControlName="name"
							       type="text"
							>
							<div *ngIf="form.get('name').invalid && form.get('name').touched"
							     class="invalid-feedback">
								<small *ngIf="form.get('name').errors.required">
									Book's name can't be empty!
								</small>
							</div>
						</div>
					</div>
					<div class="col-md-3">
						<div class="sub-title">Year Published</div>
						<div>
							<input [ngModel]="book.yearPublished"
							       class="form-control"
							       formControlName="yearPublished"
							       type="number"
							>
							<div *ngIf="form.get('yearPublished').invalid && form.get('yearPublished').touched"
							     class="invalid-feedback">
								<small *ngIf="form.get('yearPublished').errors.max">
									Enter year < current!
								</small>
							</div>
						</div>
					</div>
				</div>
				<div class="row-without-lr-margin">
					<div class="col-md-5">
						<div class="sub-title">ISBN</div>
						<div>
							<input [ngModel]="book.isbn"
							       class="form-control"
							       formControlName="isbn"
							       type="text"
							       mask="000-0-00-000000-0"
							>
						</div>
					</div>
					<div class="col-md-7">
						<div class="sub-title">Publisher</div>
						<div>
							<input [ngModel]="book.publisher"
							       class="form-control"
							       formControlName="publisher"
							       type="text"
							>
						</div>
					</div>
				</div>
				<div class="row-without-lr-margin">
					<div class="col-md-12">
						<div class="sub-title">Authors</div>
						<div>
							<ng-multiselect-dropdown
									(onFilterChange)="onFilterChange($event)"
									(onSelect)="onItemSelect($event)"
									[(ngModel)]="selectedItems"
									[data]="dropdownList"
									[settings]="dropdownSettings"
									formControlName="authors"
							>
							</ng-multiselect-dropdown>
							<div *ngIf="form.get('authors').invalid"
							     class="invalid-feedback">
								<small *ngIf="form.get('authors').errors.required">
									Select at least one author!
								</small>
							</div>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button (click)="cancel()"
					        class="btn btn-default"
					        data-dismiss="modal"
					        id="updateBookModalCloseButton"
					        type="button"
					>Cancel
					</button>
					<button [disabled]="form.invalid"
					        class="btn btn-primary"
					        type="submit"
					>Save
					</button>
				</div>
			</form>
		</div>
	</div>
</div>